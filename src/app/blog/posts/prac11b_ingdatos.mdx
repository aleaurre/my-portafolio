---
title: "M√°s All√° de las Series de Tiempo Aplicadas: Modelado, Anomal√≠as y Estrategias de Forecasting"
publishedAt: "2025-11-03"
summary: "Modelo temporal multicliente con ingenier√≠a de series de tiempo, detecci√≥n din√°mica de anomal√≠as y evaluaci√≥n comparativa de enfoques con lags y ventanas m√≥viles."
tag: "Curso: Ingenier√≠a de Datos"
image: "/practica11/portada.png"
---

# Introducci√≥n

Este proyecto profundiza en el an√°lisis de series de tiempo orientado al comportamiento de clientes. A trav√©s de t√©cnicas avanzadas de ingenier√≠a temporal, detecci√≥n de anomal√≠as y modelado interpretativo con XGBoost, se construy√≥ un pipeline completamente reproducible basado en el dataset *Daily Female Births (1959)*, adaptado a un contexto multicliente mediante simulaciones realistas. El objetivo es comparar sensibilidad y estabilidad en estrategias de forecasting, manteniendo un enfoque aplicable, explicable y computacionalmente eficiente.

---

## Marco te√≥rico

Las series de tiempo requieren abordar la dependencia secuencial entre observaciones, considerando patrones como tendencia, estacionalidad y ruido. Para capturar la memoria temporal se incorporan valores rezagados (lags), mientras que las ventanas m√≥viles permiten modelar estabilidad local mediante estad√≠sticos como media y varianza. Adem√°s, las variaciones abruptas no explicadas por la din√°mica interna suelen ser consecuencia de factores externos; por ello, los shocks ex√≥genos se integran como variables dummy para mejorar interpretabilidad. La detecci√≥n de anomal√≠as se basa en la desviaci√≥n contextual: valores que exceden la media m√≥vil ¬±2œÉ se identifican como desviaciones inesperadas relevantes. Finalmente, XGBoost aporta capacidad de modelado no lineal manteniendo alta eficiencia para despliegues en producci√≥n.

---

## Desarrollo del proyecto

Se generaron cinco clientes a partir del dataset original, variando levemente la escala para simular comportamientos diferenciados. Se a√±adieron variables temporales basadas en calendario, lags de 1, 3 y 7 d√≠as, y estad√≠sticas m√≥viles de 7 d√≠as, lo cual permiti√≥ capturar dependencias de corto y mediano plazo. Asimismo, se introdujeron shocks ex√≥genos en fechas clave, como feriados y d√≠as promocionales. La detecci√≥n de anomal√≠as se implement√≥ mediante la desviaci√≥n est√°ndar m√≥vil, identificando valores fuera del rango esperado en su vecindad temporal. Dos versiones del modelo XGBoost fueron entrenadas de forma independiente ‚Äîuna basada en lags y otra en ventanas m√≥viles‚Äî evaluando ambas estrategias mediante validaci√≥n temporal para garantizar causalidad. Finalmente, los resultados se exportaron para su utilizaci√≥n en dashboards interactivos.

---

## Visualizaci√≥n del desempe√±o


<div style={{ display: "flex", flexDirection: "column", gap: "24px", margin: "24px 0" }}>
  <div style={{ position: "relative", width: "100%", height: "300px" }}>
    <Image src="/practica11/bonus.png" alt="FunctionTransformer log1p" fill />
    </div>
</div>

El gr√°fico muestra que la serie real presenta una alta volatilidad. El modelo basado en lags responde con rapidez a los cambios bruscos, ajust√°ndose mejor a los m√°ximos y m√≠nimos repentinos; mientras que el modelo basado en ventanas m√≥viles amortigua la se√±al y prioriza tendencias m√°s estables. Aunque sus desviaciones revelan la dificultad de capturar simult√°neamente estabilidad y sensibilidad, ambos mantienen una adecuaci√≥n general razonable, lo cual valida la efectividad de la ingenier√≠a temporal implementada.

---

## Resultados

<table>
  <thead>
    <tr>
      <th>Estrategia</th>
      <th>RMSE aprox.</th>
      <th>Interpretaci√≥n</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Lag features</strong></td>
      <td>~6.3</td>
      <td>Mayor capacidad de reacci√≥n ante cambios repentinos; ideal donde la detecci√≥n r√°pida es prioritaria.</td>
    </tr>
    <tr>
      <td><strong>Window features</strong></td>
      <td>~6.8</td>
      <td>Mayor estabilidad y reducci√≥n de ruido; √∫til para monitoreo y control operativo.</td>
    </tr>
    <tr>
      <td><strong>Anomal√≠as detectadas</strong></td>
      <td>10‚Äì15&nbsp;%</td>
      <td>Picos asociados principalmente a feriados o promociones, lo que refuerza la relevancia de modelar shocks externos.</td>
    </tr>
  </tbody>
</table>

La tabla confirma que el modelo basado en lags ofrece mejor precisi√≥n general y mayor sensibilidad ante fluctuaciones, mientras que el enfoque basado en ventanas m√≥viles prioriza estabilidad y suavizaci√≥n. El porcentaje significativo de anomal√≠as detectadas indica una correcta identificaci√≥n de desviaciones relevantes para el an√°lisis del comportamiento del cliente.

---

## Conclusiones

Esta pr√°ctica demuestra que la ingenier√≠a temporal cl√°sica, cuando es combinada con modelos basados en boosting, constituye una soluci√≥n efectiva para escenarios reales donde se requiere precisi√≥n predictiva sin depender de arquitecturas neuronales complejas. La combinaci√≥n de lags y estad√≠sticas m√≥viles captura los patrones fundamentales de la serie manteniendo interpretabilidad, mientras que los shocks ex√≥genos y la detecci√≥n din√°mica de anomal√≠as facilitan la explicaci√≥n de picos inesperados y errores de registro. La evaluaci√≥n comparativa evidencia un trade-off natural entre sensibilidad y robustez: el modelo basado en lags resulta m√°s reactivo, en tanto que el de ventanas m√≥viles domina cuando se precisa estabilidad operacional. Por √∫ltimo, la exportaci√≥n de resultados a formatos interactivos completa el flujo anal√≠tico, habilitando una comunicaci√≥n accesible para perfiles no t√©cnicos y consolidando una herramienta aplicable en la toma de decisiones basada en datos.

---

## Evidencias

Para consultar el c√≥digo √≠ntegro, las funciones aplicadas, la generaci√≥n de gr√°ficos y los resultados intermedios de la pr√°ctica, se adjunta el notebook original:

üìé **Google Colab:** [Abrir notebook](https://colab.research.google.com/drive/1Sb1awamzc1X0tiFao7lSx-vvRBqjDlSF?usp=sharing)

Esta Actividad bonus se encuentra al final.

---
